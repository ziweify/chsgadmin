var isEditTemplate;function batchRefresh(){location.href=location.href}$(document).on("dblclick",".radioUnSel",function(){if(this.checked){$(this).prop("checked",false)}});function saveComplexBet(c,s){var r=true;var v=$("#complexForm").formData();var b=[];b=$(".complexCheck:checked").val();var k=[];var g=document.getElementsByClassName("complexCheck");for(var u=0;g[u];++u){if(g[u].checked){k.push(g[u].value)}}var n=$("#planName").val();var j=$("#takeProfit").val();var d=$("#stopLoss").val();var m=$("#amount").val();var l=$('input[name="amt_mode"]:checked').val();var q=$('input[name="fb_mode"]:checked').val();var x=$('input[name="fbbz_mode"]:checked').val();var f=$('input[name="MODE_0"]:checked').val();var o=$('input[name="MODE_1"]:checked').val();var a=$('input[name="FB_0"]:checked').val();var w=$('input[name="FB_1"]:checked').val();var h=$('input[name="FBBZ_0"]:checked').val();var y=$('input[name="FBBZ_1"]:checked').val();var p;var t;var e;p=l;t=q;e=x;if(r){$.ajax({url:"saveComplexBet",type:"POST",data:{username:$("#username").val(),id:s,lottery:c,planName:n,method:1,amount:m,stoploss:d,takeprofit:j,betMode:p,fbMode:t,fbbzMode:e,detail:JSON.stringify(v)},success:function(z){if(z&&z.status=="success"){var i=LIBS.getUrlParam("back");if(i){if(i.indexOf("?")==-1){i+="?"}location.href=LIBS.url(i,{_:(new Date()).getTime()})}else{history.back()}alert("保存成功")}else{if(z&&z.status=="fail"){alert(z.message)}else{alert("保存错误")}}},error:function(){alert("error")}})}}function parentPlan1Description(){parent.plan1Description()}function plan1Description(){var b=$("#plan1DescriptionDetail");if(b.length==0){b=$('<div id="plan1DescriptionDetail" class="plan1DescriptionDetailData"></div>').appendTo("body").dialog({closeButton:false,autoOpen:false,resizable:false,icon:true,modal:true,minHeight:0,width:400});var a='<div class="plan1DescriptionTitle">指定位置投注</div></br><div>可以设置每一个游戏每一期固定投注你选指定的每一种玩法.</div>';b.html(a);b.keypress(function(c){if(c.keyCode==13){$(this).parent().find(".ui-dialog-buttonset button:eq(0)").click()}})}b.dialog("option","title","设置说明");b.dialog("open").data({sc:false})}function parentShowComplexDetail(c,a,b){parent.showComplexDetail(c,a,b)}function parentBatchEnableComplexDetail(){var a=$("#complexSaveForm").formData();if(JSON.stringify(a)==="{}"||JSON.stringify(a).match(/[0-9]+/)==null){parent.complexNoSelectionBox()}else{parent.batchEnableComplexDetail(a,batchRefresh)}}function parentBatchDisableComplexDetail(){var a=$("#complexSaveForm").formData();if(JSON.stringify(a)==="{}"||JSON.stringify(a).match(/[0-9]+/)==null){parent.complexNoSelectionBox()}else{parent.batchDisableComplexDetail(a,batchRefresh)}}function parentBatchDelComplexDetail(){var a=$("#complexSaveForm").formData();if(JSON.stringify(a)==="{}"||JSON.stringify(a).match(/[0-9]+/)==null){parent.complexNoSelectionBox()}else{parent.batchDeleteComplexDetail(a,batchRefresh)}}function parentDelComplexDetail(a){parent.deleteComplexDetail(a,batchRefresh)}function parentOffComplexBet(a){parent.offComplexDetail(a,batchRefresh)}function parentOnComplexBet(a){parent.onComplexDetail(a,batchRefresh)}function offComplexBet(a){$.ajax({url:"updateComplexBetEnabled",type:"POST",data:{username:$("#username").val(),ids:a,enabled:"0"},success:function(b){if(b&&b.success){alert("关闭成功")}else{if(b&&b.message){alert(b.message)}else{alert("关闭错误")}}location.href=location.href},error:function(){alert("error")}})}function onComplexBet(a){$.ajax({url:"updateComplexBetEnabled",type:"POST",data:{username:$("#username").val(),ids:a,enabled:"1"},success:function(b){if(b&&b.success){alert("開啓成功")}else{if(b&&b.message){alert(b.message)}else{alert("開啓错误")}}location.href=location.href},error:function(){alert("error")}})}function postDeleteComplexBet(a){return $.ajax({url:"deleteComplexBet",type:"POST",data:{username:$("#username").val(),id:a,lottery:lottery,method:1},success:function(b){if(b&&b.success){alert("删除成功")}else{if(b&&b.message){alert(b.message)}else{alert("删除错误")}}},error:function(){alert("error")}})}function editComplexBet(a){if(a!=null&&a.size()>0){a.forEach(function(b){var c="G"+b[game]+"_"+b[content];$("#"+c).prop("checked",true)})}}function back(){var a=LIBS.getUrlParam("back");if(a){if(a.indexOf("?")==-1){a+="?"}location.href=LIBS.url(a,{_:(new Date()).getTime()})}else{history.back()}}function onChangeBetMode(a){if(a==1||a=="1"){$("#complexfbMode").show();$("#complexfbbzMode").show()}else{$("#complexfbMode").hide();$("#complexfbbzMode").hide()}}function onChangeFBMode(a){if(a==1||a=="1"){$("#complexfbbzModeHit").hide();$("#complexfbbzModeNoHit").show()}else{$("#complexfbbzModeHit").show();$("#complexfbbzModeNoHit").hide()}}function complexKXplan(c){if($("#complexBatchSel").is(":checked")){for(var a=1;a<=c;a++){var b="#complexBatchSel_"+a;$(b).prop("checked",true)}}else{for(var a=1;a<=c;a++){var b="#complexBatchSel_"+a;$(b).prop("checked",false)}}}function complexKX1(d,f,e){var c=d.split("_");for(var a=1;a<=f;a++){var b="#"+c[1]+a+"_"+c[2];$(b).prop("checked",true);if(a==f){b="#G"+e+"_"+c[2];$(b).prop("checked",true)}}}function complexKX2(d,e){var c=d.split("_");if($("#"+d).is(":checked")){for(var a=1;a<=e;a++){var b="#"+c[1]+a+"_"+c[2];$(b).prop("checked",true)}}else{for(var a=1;a<=e;a++){var b="#"+c[1]+a+"_"+c[2];$(b).prop("checked",false)}}}function addComplexDetail(b,a){if(a==="10"){alert("不可保存多过10个方案")}else{location.href="complexBet1?lottery="+b+"&isSave=true"}}function editComplexDetail(b,c,a){if(a==="1"){alert("修改任何资料，请先停止方案")}else{location.href="complexBet1Edit?lottery="+b+"&isSave=false&id="+c}};