function tryKaiNum(){var e=createNum(1,16),a=ssq.createArr();return a.push(e),a}function headKaiCode(e){for(var a="",t="",i="",n=0;n<8;n++)n<6?a+="<li class='redCode'><span>"+doubleVal(e[n])+"</span></li>":7==n?t="<li class='addF'><i></i></li>":i="<li class='blueCode'><span>"+doubleVal(e[n])+"</span></li>";var s=a+t+i;$(".headCode").find("ul").append(s)}function pipCode(){var e="",a="",t="";$("#lAreaDiv").find("ul").empty(),$("#rAreaDiv").find("ul").empty();for(var i=0;i<15;i++)i<6?e+="<li></li>":t+="<li></li>";a=e+"<li></li>",$("#firBlue").append(a),$("#secBlue").append(t),$("#redFir").append(e),$("#redSec").append(t),$("#redThr").append(t),$("#redFou").append(t),$("#rAreaDiv").find("ul>li").addClass("hasClass")}function runBallFun(e){var a=setInterval(function(){ifRedKai?ballRunning1(n):ballRunning2()},e);animateId.tryid=a,n++}function dropBall(e){for(var a="",t=0,i=(a=ifRedKai?$(".hasClass"):$("#lAreaDiv").find("li")).length;t<i;t++)ifRedKai?void 0!==e?dropStartRed(t,e):dropStartRed(t):dropStart(t)}function dropStart(e){var a="",t="";e<10?0==e?(t=102,a=12):7==e?(t=98,a=20):(a=createNum(12,20),t=createNum(100,105)):11==e?(a=0,t=115):e<=13?10==e?(a=0,t=105):(a=createNum(-10,-15),t=createNum(100,105)):(t=15==e?100:14==e?104:createNum(100,108),a=createNum(-10,-16)),$("#lAreaDiv").find("li").eq(e).animate({top:t,left:a},createNum(1e3,1500))}function dropStartRed(e,a){var t="",i="";e<=10?(t=e>=5?createNum(5,25):createNum(0,25),i=createNum(108,125)):e>=15&&e<=20?(t=createNum(20,30),i=createNum(103,110)):e>=24&&e<=26?(t=createNum(10,60),i=createNum(95,105)):e>=11&&e<=14?(t=createNum(-60,-10),i=createNum(100,105)):e>=21&&e<=23?(t=createNum(-60,-10),i=createNum(105,113)):void 0!==a&&27==e?(t=12*(1-a),i=110):(t=createNum(-28,-5),i=createNum(95,100)),$("#rAreaDiv").find(".hasClass").eq(e).animate({top:i,left:t},createNum(1e3,1500))}function ballRunning1(e){for(var a=$(".hasClass"),t=0,i=0,n=0;n<33;n++)n<=10||n>=15&&n<=20||n>=24&&n<=26?(i=createNum(35,104),t=createNum(5,30),ballAnimate(a[n],i,t)):(n>=27?(i=createNum(26,95),t=createNum(-30,4)):(i=createNum(35,90),t=createNum(-64,3)),ballAnimate(a[n],i,t))}function ballRunning2(){for(var e=$("#lAreaDiv").find("ul li"),a=0,t=0,i=0;i<16;i++)i<10?(t=createNum(20,98),a=createNum(-2,30),ballAnimate(e[i],t,a)):(t=createNum(8,98),a=createNum(-25,5),ballAnimate(e[i],t,a))}function ballAnimate(e,a,t){var i=createNum(10,50);$(e).animate({top:a+"px",left:t+"px"},i)}function kaiCodeAnimate(){$("#lAreaDiv").find("ul>li");$("#lAreaDiv").find("li").eq(11).animate({top:135},300).animate({left:-23},300)}function kaiCodeAnimateR(e,a,t,i,n){$("#rAreaDiv").find(".hasClass");var s=e;$("#rAreaDiv").find("li").eq(s).removeClass("hasClass"),a<3?aniQS(s,t,i,n):aniHS(s,t,i,n)}function aniQS(e,a,t,i){$("#rAreaDiv").find("li").eq(e).animate({top:a},300).animate({left:i},300)}function aniHS(e,a,t,i){$("#rAreaDiv").find("li").eq(e).animate({top:a-10},300).animate({left:i},300).animate({top:a})}function fadeInCode(e){$("#leftShow").find("i").text(e).fadeIn(4500)}function fadeOutCode(){$("#leftShow").find("i").fadeOut(2e3)}function fadeInRight(e){$("#rightShow").find("i").text(e).fadeIn(1e3)}function fadeOutRight(){$("#rightShow").find("i").fadeOut(2e3)}function recoverFun(){fadeOutCode(),pipCode(),n=0}function doubleVal(e){if(e<10)a="0"+e;else var a=e;return a}function createNum(e,a){var t=a-e,i=Math.random();return e+Math.round(i*t)}function bgMusic(){audioType="b",ssq.sound.play("audioidBg"),ssq.sound.stop("audioidKai")}function kaiMusic(){audioType="r",ssq.sound.play("audioidKai"),ssq.sound.stop("audioidBg")}function showCutime(){$("#hourtxt").css("display","block"),$("#opening").css("display","none")}function showOpening(){$("#hourtxt").css("display","none"),$("#opening").css("display","block")}var ssq={},isTry=!1,ifopen=!1,playa="b",animateId={},timer=null,speedTime=null;ifRedKai=!0;var n=0;$(function(){$("#soundBth").on("click",function(){"soundsOn"==$("#soundBth").attr("class")?($("#soundBth").removeClass("soundsOn").addClass("soundsOff"),ssq.sound.stop("audioidKai"),ssq.sound.stop("audioidBg")):($("#soundBth").removeClass("soundsOff").addClass("soundsOn"),"b"==audioType?(ssq.sound.play("audioidBg"),ssq.sound.stop("audioidKai")):(audioType,ssq.sound.play("audioidKai"),ssq.sound.stop("audioidBg")))}),$("#tryBtn").on("click",function(){if(isTry)return $(".jzCheck").show(),setTimeout(function(){$(".jzCheck").hide()},1e3),!1;isTry=!0,ssq.startGame(1)})}),ssq.startGame=function(e){kaiMusic(),showOpening(),ssq.startAnimate(),setTimeout(function(){if(1==e){var a=tryKaiNum(),t=[27,28,29,30,31,32];ssq.stopRedAnimate(t,0,130,12,-15,a)}},3e3)},ssq.sound={play:function(e){"soundsOn"==$("#soundBth").attr("class")&&document.getElementById(e).play()},stop:function(e){document.getElementById(e).pause()}},ssq.startVid=function(e){void 0!=animateId.tryid&&clearInterval(animateId.tryid),showCutime(),bgMusic(),ssq.Data(e),pipCode()},ssq.stopVid=function(e){var a=[27,28,29,30,31,32];ssq.stopRedAnimate(a,0,130,12,-15,e.preDrawCode),ssq.Data(e)},ssq.Data=function(e){$(".headCode").find("ul").empty(),$("#issue").text(e.drawIssue),$("#kaiTime").text(e.drawTime),$("#data").text(e.data);var a=e.preDrawTime.split(":");a[0],a[1],a[2];ssq.cutTime(ssq.getSecond(e.preDrawTime)),headKaiCode(e.preDrawCode)},ssq.startAnimate=function(){isTry=!0,dropBall(),setTimeout(function(){"null"!==speedTime&&(speedTime=50),runBallFun(speedTime)},1e3)},ssq.stopBlueAnimate=function(e,a){var t=a.length;clearInterval(animateId.tryid),dropBall(),kaiCodeAnimate(),setTimeout(function(){fadeInCode(doubleVal(a[t-1])),ifRedKai=!0,setTimeout(function(){fadeOutCode(),setTimeout(function(){showCutime(),bgMusic(),recoverFun(),isTry=!1,n=0},8e3)},100)},500)},ssq.stopRedAnimate=function(e,a,t,i,n,s){if(ifopen){var r=doubleVal(s[a]);if(clearInterval(animateId.tryid),dropBall(a),kaiCodeAnimateR(e[a],a,t,i,n),setTimeout(function(){fadeInRight(r)},1500),++a>0&&a<=5){var t=130,i=-15,n=-15;setTimeout(function(){runBallFun(50),fadeOutRight(),setTimeout(function(){var e=[27,28,29,30,31,32];ssq.stopRedAnimate(e,a,t,i,n,s)},3e3)},3e3)}a>5&&setTimeout(function(){ifRedKai=!1,fadeOutRight(),ssq.startAnimate(),setTimeout(function(){ssq.stopBlueAnimate(e,s)},3e3)},5e3)}},ssq.getSecond=function(e){var a=e.split(":"),t=a[0],i=a[1],n=a[2];return 3600*(t=t<10?t.substring(t.length-1,t.length):t)+60*(i=i<10?i.substring(i.length-1,i.length):i)+1*(n=n<10?n.substring(n.length-1,n.length):n)},ssq.cutTime=function(e){null!=timer&&clearInterval(timer);var e=e;timer=setInterval(function(){if(e>=1){e-=1;var a=Math.floor(e/3600),t=Math.floor(e/60%60),i=Math.floor(e%60),n="";if(n=(a<10?"0"+a:a)+" : "+(t<10?"0"+t:t)+" : "+(i<10?"0"+i:i),$("#hourtxt").text(n),e<10){var s=$(".linelist").find("li");$(s).eq(e).addClass("redli")}}else clearInterval(timer),showOpening(),kaiMusic(),isTry?(recoverFun(),ssq.startAnimate()):ssq.startAnimate()},1e3)},ssq.clearTime=function(){clearInterval(animateId.tryid),clearInterval(timer)},ssq.createArr=function(){for(var e=[],a=0;a<6;a++){var t=createNum(1,33);if(0!=a)for(var i=0,n=e.length-1;i<e.length;i++){if(t==e[i]){a--;break}if(i==n){e.push(t);break}}else e.push(t)}return e};